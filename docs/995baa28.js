import{gq as p,gr as g,H as f,_ as h,L as v,r as i,gs as y,b as k,d as c,e as d,f as b,t as _,F as L,h as l}from"./assets/index-cf86c5d1.js";function U(s){return p("kooritea/kooritea.github.io",`/music/${s}.mp3`).then(o=>g({url:o,responseType:"arraybuffer"}).then(n=>{const[e,a]=s.split("-");return f(()=>import("./b7245f11.js").then(t=>t.i),["/b7245f11.js","/vander_commonjsHelpers-87174ba5.js"],import.meta.url).then(t=>{const r=t.default,u=new r(n).ID3V2.findLabel("APIC");return{picUrl:u?URL.createObjectURL(new Blob([u.content.pictureBuffer])):"",name:e,singer:a,id:s,getPlayUrl:async()=>URL.createObjectURL(new Blob([n],{type:"audio/mp3"}))}})}))}const B={components:{LoadingIcon:v},props:{content:{type:String,default:""}},setup(s){const n=s.content.match(/\[music (.*?)\]/)[1],e=i({}),a=i(!0),t=i("");return(n.startsWith("private")?U(n.slice(8)):y(n)).then(r=>{e.value=r}).catch(r=>{t.value=r.message}).finally(()=>{a.value=!1}),{loading:a,error:t,id:i(n),music:e}},methods:{onClick(){this.loading||this.error||this.music.getPlayUrl().then(s=>{window.open(s,"_blank")})}}},I={key:1,class:"error-msg"},M=["src"],P={class:"info"},C=["title"],R=["title"];function w(s,o,n,e,a,t){const r=k("LoadingIcon");return c(),d("div",{class:"music-player-simple",onClick:o[0]||(o[0]=(...m)=>t.onClick&&t.onClick(...m))},[e.loading?(c(),b(r,{key:0})):e.error?(c(),d("div",I,_(e.error),1)):(c(),d(L,{key:2},[l("img",{class:"music-player-simple-pic",src:e.music.picUrl},null,8,M),l("div",P,[l("p",{class:"song-name",title:e.music.name}," ðŸŽ¶"+_(e.music.name),9,C),l("p",{class:"singer-name",title:e.music.singer},_(e.music.singer),9,R)])],64))])}const x=h(B,[["render",w],["__scopeId","data-v-f0afbe2d"]]);export{x as default};
