const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./xsvBL9vd2.js","./assets/index-CR1nM9tu.js","./assets/index-lRsV9ZVg.css","./xDHtQZWAJ.js","./assets/ImageCon-lsCsi0ah.css","./xDabuPu63.js","./assets/MarkDown-CTobrspr.css","./xB_emLo6e.js","./xDPY6lCGV.js","./xeXoAw2FO.js","./xDSpHJm7g.js","./vander_commonjsHelpers-CqkleIqs.js","./xBUm2LFIb.js","./xD48bKuSC.js","./xRzRsrqvx.js","./xUn1LRO4B.js","./xBp2U5RjT.js","./vander_baseFindIndex-D7XfJLKM.js","./assets/PreviewScreenshots-B76jYR2H.css","./assets/el-scrollbar-BWxh-h6K.css","./assets/el-popper-DG5wR-qi.css","./xCDsOVJSA.js","./x54_Uj6Mu.js","./xBTGhCnpK.js","./vander_baseIteratee-BQtfEc6b.js","./xqU0p4VZP.js","./xDeD1yNyK.js","./xBsWlRY8S.js","./assets/MDEditor-DDUK1HC6.css","./assets/el-tag-DljBBxJR.css","./assets/el-select-BaQA8IKP.css","./assets/el-date-picker-BUDvp0ks.css","./assets/Comment-d2HK9lQG.css"])))=>i.map(i=>d[i]);
import{_ as M,S,r as w,j as l,k as s,b as i,K as x,z as y,e as f,n as h,u as I,p as L,M as N,L as C,m as P,N as V,f as r,w as m,d,t as c,l as j,D as q}from"./assets/index-CR1nM9tu.js";import{M as z}from"./xDabuPu63.js";/* empty css         *//* empty css         */import{E as A}from"./xBsWlRY8S.js";const H={components:{SvgIcon:S},setup(){return{isSimplifty:w(!1)}},mounted(){this.$el.offsetHeight>600&&(this.isSimplifty=!0)}},K={key:0,class:"simplifty-mask"};function O(o,t,e,n,g,_){const u=l("SvgIcon");return s(),i("div",{class:h(["simplifty-box",{"is-simplifty":n.isSimplifty}])},[x(o.$slots,"default",{},void 0,!0),n.isSimplifty?(s(),i("div",K,[y(u,{name:"zhankai",class:"expend-button",onClick:t[0]||(t[0]=p=>n.isSimplifty=!1)})])):f("",!0)],2)}const T=M(H,[["render",O],["__scopeId","data-v-7afa2ae9"]]);function Q(o,t){const{darkMode:e}=I(),{darkModeDecodeKey:n}=L();return e.value&&(o.hide||t)?o.id?N(o.hide,n.value):o.hide:o.content}const F={components:{Markdown:z,SimpliftyBox:T,LoadingIcon:C,SvgIcon:S,"el-popover":A,Comment:P({loader:()=>q(()=>import("./xsvBL9vd2.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32]),import.meta.url),loadingComponent:C})},props:{essay:{type:Object,required:!0},essayMap:{type:Object,default:()=>({})},inPopover:{type:Boolean,default:!1},isMarkDowm:{type:Boolean,default:!0},safeMode:{type:Boolean,default:!1},hasComment:{type:Boolean,default:!1},commentQuery:{type:Function,default:()=>({})}},emits:["set-search-key-word","load-essay-by-id"],setup(){const{darkMode:o}=I(),t=w(!1);return{darkMode:o,formatDate:V,Error,showComments:t}},methods:{getEssayContent:Q,openLink(o){window.open(o,"_blank")}}},R={class:"essay"},U=["onClick"],W={class:"hashtag"},G={key:0,class:"loading-box"},J={key:1},X={key:1,class:"unsafe-content"},Y={class:"info"},Z={class:"essay-id"};function $(o,t,e,n,g,_){const u=l("LoadingIcon"),p=l("ChaosItem",!0),D=l("el-popover"),B=l("Markdown"),b=l("SimpliftyBox"),k=l("SvgIcon"),E=l("Comment");return s(),i("div",R,[r("article",{class:h(["article",{"in-popover":e.inPopover}])},[y(b,null,{default:m(()=>[e.isMarkDowm?(s(),d(B,{key:0,"model-value":_.getEssayContent(e.essay),safeMode:e.safeMode},{hashtag:m(({hashtag:a})=>[!/^#\d+$/.test(a)||e.inPopover?(s(),i("span",{key:0,class:"hashtag",onClick:v=>o.$emit("set-search-key-word",a)},c(a),9,U)):(s(),d(D,{key:1,width:"",trigger:"click","popper-class":"popper-essay",effect:n.darkMode?"dark":"light",onShow:()=>{e.essayMap[a.slice(1)]||o.$emit("load-essay-by-id",a.slice(1))}},{reference:m(()=>[r("span",W,c(a),1)]),default:m(()=>[!e.essayMap[a.slice(1)]||e.essayMap[a.slice(1)]instanceof Error?(s(),i("div",G,[e.essayMap[a.slice(1)]?(s(),i("span",J,c(e.essayMap[a.slice(1)].message),1)):(s(),d(u,{key:0}))])):(s(),d(p,{key:1,essay:e.essayMap[a.slice(1)],"essay-map":e.essayMap,"in-popover":!0,onSetSearchKeyWord:t[0]||(t[0]=v=>{o.$emit("set-search-key-word",v)})},null,8,["essay","essay-map"]))]),_:2},1032,["effect","onShow"]))]),_:1},8,["model-value","safeMode"])):(s(),i("div",X,c(e.essay.content),1))]),_:1})],2),r("div",Y,[e.essay.link?(s(),i("span",{key:0,class:"link",onClick:t[1]||(t[1]=()=>{_.openLink(e.essay.link)})},[y(k,{name:"link"})])):f("",!0),e.hasComment?(s(),i("span",{key:1,class:"comment",onClick:t[2]||(t[2]=()=>{n.showComments=!n.showComments})},[y(k,{name:"comment"}),j(" ("+c(e.essay.commentCount)+") ",1)])):f("",!0),r("span",Z,"#"+c(e.essay.id||"预约中"),1),r("span",null,c(n.formatDate(e.essay.time,`yyyy-MM-dd HH:mm:ss UTC ${n.darkMode?"NDD":"DD"}`)),1)]),n.showComments?(s(),d(E,{key:0,query:e.commentQuery(e.essay)},null,8,["query"])):f("",!0)])}const ae=M(F,[["render",$],["__scopeId","data-v-13a57028"]]);export{ae as C,Q as g};
