import{gj as g,_ as u,L as p,r as c,gk as f,b as h,d as o,e as d,f as v,t as _,F as k,h as a}from"./assets/index-fcd48c4f.js";function y(e){return g()}const M={components:{LoadingIcon:p},props:{content:{type:String,default:""}},setup(e){const t=e.content.match(/\[music (.*?)\]/)[1],s=c({}),l=c(!0),n=c("");return(t.startsWith("private")?y(t.slice(8)):f(t)).then(i=>{s.value=i}).catch(i=>{n.value=i.message}).finally(()=>{l.value=!1}),{loading:l,error:n,id:c(t),music:s}},methods:{onClick(){this.loading||this.error||this.music.getPlayUrl().then(e=>{window.open(e,"_blank")})}}},B={key:1,class:"error-msg"},C=["src"],b={class:"info"},x=["title"],I=["title"];function L(e,r,t,s,l,n){const i=h("LoadingIcon");return o(),d("div",{class:"music-player-simple",onClick:r[0]||(r[0]=(...m)=>n.onClick&&n.onClick(...m))},[s.loading?(o(),v(i,{key:0})):s.error?(o(),d("div",B,_(s.error),1)):(o(),d(k,{key:2},[a("img",{class:"music-player-simple-pic",src:s.music.picUrl},null,8,C),a("div",b,[a("p",{class:"song-name",title:s.music.name}," ðŸŽ¶"+_(s.music.name),9,x),a("p",{class:"singer-name",title:s.music.singer},_(s.music.singer),9,I)])],64))])}const U=u(M,[["render",L],["__scopeId","data-v-f0afbe2d"]]);export{U as default};
