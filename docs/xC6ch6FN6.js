import{fp as ae,bj as O,e$ as re,bl as $,bB as j,bq as R,c1 as J,br as Q,bw as le,r as y,c as L,bT as ne,by as A,bb as U,k as H,d as M,w as Z,U as se,f as W,n as B,bA as E,g as I,b9 as oe,bG as ie,cj as ce,b as ee,z as K,F as ue,bp as fe,bJ as ve,bm as N,bv as X,E as F,c9 as de,ci as Y,c0 as me,a as be,dp as pe,al as he,o as ye,J as ge,b5 as Se,e as we,bN as ze,bC as Te}from"./assets/index-Dg8f9mnv.js";var Ee=/\s/;function _e(t){for(var l=t.length;l--&&Ee.test(t.charAt(l)););return l}var xe=/^\s+/;function ke(t){return t&&t.slice(0,_e(t)+1).replace(xe,"")}var q=NaN,Le=/^[-+]0x[0-9a-f]+$/i,Ce=/^0b[01]+$/i,Ne=/^0o[0-7]+$/i,He=parseInt;function G(t){if(typeof t=="number")return t;if(ae(t))return q;if(O(t)){var l=typeof t.valueOf=="function"?t.valueOf():t;t=O(l)?l+"":l}if(typeof t!="string")return t===0?t:+t;t=ke(t);var s=Ce.test(t);return s||Ne.test(t)?He(t.slice(2),s?2:8):Le.test(t)?q:+t}var P=function(){return re.Date.now()},Be="Expected a function",Re=Math.max,Pe=Math.min;function Ve(t,l,s){var n,u,v,d,c,f,b=0,o=!1,r=!1,i=!0;if(typeof t!="function")throw new TypeError(Be);l=G(l)||0,O(s)&&(o=!!s.leading,r="maxWait"in s,v=r?Re(G(s.maxWait)||0,l):v,i="trailing"in s?!!s.trailing:i);function p(a){var m=n,S=u;return n=u=void 0,b=a,d=t.apply(S,m),d}function w(a){return b=a,c=setTimeout(h,l),o?p(a):d}function _(a){var m=a-f,S=a-b,x=l-m;return r?Pe(x,v-S):x}function z(a){var m=a-f,S=a-b;return f===void 0||m>=l||m<0||r&&S>=v}function h(){var a=P();if(z(a))return g(a);c=setTimeout(h,_(a))}function g(a){return c=void 0,i&&n?p(a):(n=u=void 0,d)}function C(){c!==void 0&&clearTimeout(c),b=0,n=f=u=c=void 0}function T(){return c===void 0?d:g(P())}function e(){var a=P(),m=z(a);if(n=arguments,u=this,f=a,m){if(c===void 0)return w(f);if(r)return clearTimeout(c),c=setTimeout(h,l),p(f)}return c===void 0&&(c=setTimeout(h,l)),d}return e.cancel=C,e.flush=T,e}const k=4,Oe={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},Ae=({move:t,size:l,bar:s})=>({[s.size]:l,transform:`translate${s.axis}(${t}%)`}),D=Symbol("scrollbarContextKey"),Me=$({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),We="Thumb",Ie=R({__name:"thumb",props:Me,setup(t){const l=t,s=J(D),n=Q("scrollbar");s||le(We,"can not inject scrollbar context");const u=y(),v=y(),d=y({}),c=y(!1);let f=!1,b=!1,o=ce?document.onselectstart:null;const r=L(()=>Oe[l.vertical?"vertical":"horizontal"]),i=L(()=>Ae({size:l.size,move:l.move,bar:r.value})),p=L(()=>u.value[r.value.offset]**2/s.wrapElement[r.value.scrollSize]/l.ratio/v.value[r.value.offset]),w=a=>{var m;if(a.stopPropagation(),a.ctrlKey||[1,2].includes(a.button))return;(m=window.getSelection())==null||m.removeAllRanges(),z(a);const S=a.currentTarget;S&&(d.value[r.value.axis]=S[r.value.offset]-(a[r.value.client]-S.getBoundingClientRect()[r.value.direction]))},_=a=>{if(!v.value||!u.value||!s.wrapElement)return;const m=Math.abs(a.target.getBoundingClientRect()[r.value.direction]-a[r.value.client]),S=v.value[r.value.offset]/2,x=(m-S)*100*p.value/u.value[r.value.offset];s.wrapElement[r.value.scroll]=x*s.wrapElement[r.value.scrollSize]/100},z=a=>{a.stopImmediatePropagation(),f=!0,document.addEventListener("mousemove",h),document.addEventListener("mouseup",g),o=document.onselectstart,document.onselectstart=()=>!1},h=a=>{if(!u.value||!v.value||f===!1)return;const m=d.value[r.value.axis];if(!m)return;const S=(u.value.getBoundingClientRect()[r.value.direction]-a[r.value.client])*-1,x=v.value[r.value.offset]-m,te=(S-x)*100*p.value/u.value[r.value.offset];s.wrapElement[r.value.scroll]=te*s.wrapElement[r.value.scrollSize]/100},g=()=>{f=!1,d.value[r.value.axis]=0,document.removeEventListener("mousemove",h),document.removeEventListener("mouseup",g),e(),b&&(c.value=!1)},C=()=>{b=!1,c.value=!!l.size},T=()=>{b=!0,c.value=f};ne(()=>{e(),document.removeEventListener("mouseup",g)});const e=()=>{document.onselectstart!==o&&(document.onselectstart=o)};return A(U(s,"scrollbarElement"),"mousemove",C),A(U(s,"scrollbarElement"),"mouseleave",T),(a,m)=>(H(),M(ie,{name:E(n).b("fade"),persisted:""},{default:Z(()=>[se(W("div",{ref_key:"instance",ref:u,class:B([E(n).e("bar"),E(n).is(E(r).key)]),onMousedown:_},[W("div",{ref_key:"thumb",ref:v,class:B(E(n).e("thumb")),style:I(E(i)),onMousedown:w},null,38)],34),[[oe,a.always||c.value]])]),_:1},8,["name"]))}});var V=j(Ie,[["__file","thumb.vue"]]);const $e=$({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),je=R({__name:"bar",props:$e,setup(t,{expose:l}){const s=t,n=J(D),u=y(0),v=y(0),d=y(""),c=y(""),f=y(1),b=y(1);return l({handleScroll:i=>{if(i){const p=i.offsetHeight-k,w=i.offsetWidth-k;v.value=i.scrollTop*100/p*f.value,u.value=i.scrollLeft*100/w*b.value}},update:()=>{const i=n==null?void 0:n.wrapElement;if(!i)return;const p=i.offsetHeight-k,w=i.offsetWidth-k,_=p**2/i.scrollHeight,z=w**2/i.scrollWidth,h=Math.max(_,s.minSize),g=Math.max(z,s.minSize);f.value=_/(p-_)/(h/(p-h)),b.value=z/(w-z)/(g/(w-g)),c.value=h+k<p?`${h}px`:"",d.value=g+k<w?`${g}px`:""}}),(i,p)=>(H(),ee(ue,null,[K(V,{move:u.value,ratio:b.value,size:d.value,always:i.always},null,8,["move","ratio","size","always"]),K(V,{move:v.value,ratio:f.value,size:c.value,vertical:"",always:i.always},null,8,["move","ratio","size","always"])],64))}});var De=j(je,[["__file","bar.vue"]]);const Ue=$({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:fe([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},tabindex:{type:[String,Number],default:void 0},id:String,role:String,...ve(["ariaLabel","ariaOrientation"])}),Ke={scroll:({scrollTop:t,scrollLeft:l})=>[t,l].every(N)},Xe="ElScrollbar",Fe=R({name:Xe}),Ye=R({...Fe,props:Ue,emits:Ke,setup(t,{expose:l,emit:s}){const n=t,u=Q("scrollbar");let v,d,c=0,f=0;const b=y(),o=y(),r=y(),i=y(),p=L(()=>{const e={};return n.height&&(e.height=X(n.height)),n.maxHeight&&(e.maxHeight=X(n.maxHeight)),[n.wrapStyle,e]}),w=L(()=>[n.wrapClass,u.e("wrap"),{[u.em("wrap","hidden-default")]:!n.native}]),_=L(()=>[u.e("view"),n.viewClass]),z=()=>{var e;o.value&&((e=i.value)==null||e.handleScroll(o.value),c=o.value.scrollTop,f=o.value.scrollLeft,s("scroll",{scrollTop:o.value.scrollTop,scrollLeft:o.value.scrollLeft}))};function h(e,a){ze(e)?o.value.scrollTo(e):N(e)&&N(a)&&o.value.scrollTo(e,a)}const g=e=>{N(e)&&(o.value.scrollTop=e)},C=e=>{N(e)&&(o.value.scrollLeft=e)},T=()=>{var e;(e=i.value)==null||e.update()};return F(()=>n.noresize,e=>{e?(v==null||v(),d==null||d()):({stop:v}=de(r,T),d=A("resize",T))},{immediate:!0}),F(()=>[n.maxHeight,n.height],()=>{n.native||Y(()=>{var e;T(),o.value&&((e=i.value)==null||e.handleScroll(o.value))})}),me(D,be({scrollbarElement:b,wrapElement:o})),pe(()=>{o.value&&(o.value.scrollTop=c,o.value.scrollLeft=f)}),he(()=>{n.native||Y(()=>{T()})}),ye(()=>T()),l({wrapRef:o,update:T,scrollTo:h,setScrollTop:g,setScrollLeft:C,handleScroll:z}),(e,a)=>(H(),ee("div",{ref_key:"scrollbarRef",ref:b,class:B(E(u).b())},[W("div",{ref_key:"wrapRef",ref:o,class:B(E(w)),style:I(E(p)),tabindex:e.tabindex,onScroll:z},[(H(),M(Se(e.tag),{id:e.id,ref_key:"resizeRef",ref:r,class:B(E(_)),style:I(e.viewStyle),role:e.role,"aria-label":e.ariaLabel,"aria-orientation":e.ariaOrientation},{default:Z(()=>[ge(e.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],46,["tabindex"]),e.native?we("v-if",!0):(H(),M(De,{key:0,ref_key:"barRef",ref:i,always:e.always,"min-size":e.minSize},null,8,["always","min-size"]))],2))}});var qe=j(Ye,[["__file","scrollbar.vue"]]);const Je=Te(qe);export{Oe as B,Je as E,k as G,Ue as a,D as b,Ve as d,Ae as r,Ke as s,Me as t};
