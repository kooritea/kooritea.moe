const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./xDxa0pZLh.js","./assets/index-dK3A5pbu.js","./assets/index-LaXGcBtP.css","./xCHSRk-Pr.js","./assets/ImageCon-lsCsi0ah.css","./xCY4EuNqX.js","./assets/MarkDown-BhWfQBYh.css","./xB4L2M6-r.js","./xsK7Tbxiu.js","./xCZZrobAw.js","./xDSpHJm7g.js","./vander_commonjsHelpers-CqkleIqs.js","./xCrBWEtQR.js","./xnMSaOKre.js","./xDamispQD.js","./xDXcFiglo.js","./xBWLwD-UA.js","./vander_baseFindIndex-D7XfJLKM.js","./assets/PreviewScreenshots-B76jYR2H.css","./assets/el-scrollbar-BWxh-h6K.css","./assets/el-popper-DG5wR-qi.css","./xCfesGaoO.js","./xfZGbqDmi.js","./xDkLS8U1T.js","./vander_baseIteratee-DYrSvSGZ.js","./xDZ_LoW6I.js","./xzmw4ilvk.js","./x1gGzKIyF.js","./assets/MDEditor-DJrw3LGy.css","./assets/el-tag-DljBBxJR.css","./assets/el-select-BaQA8IKP.css","./assets/el-date-picker-BUDvp0ks.css","./assets/Comment-CgKUPa33.css"])))=>i.map(i=>d[i]);
import{_ as C,S as M,r as S,j as i,k as s,b as c,H as x,z as f,e as _,n as h,u as w,p as L,I as P,L as v,m as N,J as V,f as l,w as m,d,t as r,l as H,D as j}from"./assets/index-dK3A5pbu.js";import{M as q}from"./xCY4EuNqX.js";/* empty css         *//* empty css         */import{E as z}from"./x1gGzKIyF.js";const A={components:{SvgIcon:M},setup(){return{isSimplifty:S(!1)}},mounted(){this.$el.offsetHeight>600&&(this.isSimplifty=!0)}},O={key:0,class:"simplifty-mask"};function T(o,n,e,t,I,u){const y=i("SvgIcon");return s(),c("div",{class:h(["simplifty-box",{"is-simplifty":t.isSimplifty}])},[x(o.$slots,"default",{},void 0,!0),t.isSimplifty?(s(),c("div",O,[f(y,{name:"zhankai",class:"expend-button",onClick:n[0]||(n[0]=p=>t.isSimplifty=!1)})])):_("",!0)],2)}const K=C(A,[["render",T],["__scopeId","data-v-7afa2ae9"]]);function Q(o,n){const{darkMode:e}=w(),{darkModeDecodeKey:t}=L();return e.value&&(o.hide||n)?o.id?P(o.hide,t.value):o.hide:o.content}const F={components:{Markdown:q,SimpliftyBox:K,LoadingIcon:v,SvgIcon:M,"el-popover":z,Comment:N({loader:()=>j(()=>import("./xDxa0pZLh.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32]),import.meta.url),loadingComponent:v})},props:{essay:{type:Object,required:!0},essayMap:{type:Object,default:()=>({})},inPopover:{type:Boolean,default:!1},isMarkDowm:{type:Boolean,default:!0},safeMode:{type:Boolean,default:!1},hasComment:{type:Boolean,default:!1},commentQuery:{type:Function,default:()=>({})}},emits:["set-search-key-word","load-essay-by-id"],setup(){const{darkMode:o}=w(),n=S(!1);return{darkMode:o,formatDate:V,Error,showComments:n}},methods:{getEssayContent:Q}},J={class:"essay"},R=["onClick"],U={class:"hashtag"},W={key:0,class:"loading-box"},G={key:1},X={key:1,class:"unsafe-content"},Y={class:"info"},Z={class:"essay-id"};function $(o,n,e,t,I,u){const y=i("LoadingIcon"),p=i("ChaosItem",!0),g=i("el-popover"),D=i("Markdown"),B=i("SimpliftyBox"),E=i("SvgIcon"),b=i("Comment");return s(),c("div",J,[l("article",{class:h(["article",{"in-popover":e.inPopover}])},[f(B,null,{default:m(()=>[e.isMarkDowm?(s(),d(D,{key:0,"model-value":u.getEssayContent(e.essay),safeMode:e.safeMode},{hashtag:m(({hashtag:a})=>[!/^#\d+$/.test(a)||e.inPopover?(s(),c("span",{key:0,class:"hashtag",onClick:k=>o.$emit("set-search-key-word",a)},r(a),9,R)):(s(),d(g,{key:1,width:"",trigger:"click","popper-class":"popper-essay",effect:t.darkMode?"dark":"light",onShow:()=>{e.essayMap[a.slice(1)]||o.$emit("load-essay-by-id",a.slice(1))}},{reference:m(()=>[l("span",U,r(a),1)]),default:m(()=>[!e.essayMap[a.slice(1)]||e.essayMap[a.slice(1)]instanceof Error?(s(),c("div",W,[e.essayMap[a.slice(1)]?(s(),c("span",G,r(e.essayMap[a.slice(1)].message),1)):(s(),d(y,{key:0}))])):(s(),d(p,{key:1,essay:e.essayMap[a.slice(1)],"essay-map":e.essayMap,"in-popover":!0,onSetSearchKeyWord:n[0]||(n[0]=k=>{o.$emit("set-search-key-word",k)})},null,8,["essay","essay-map"]))]),_:2},1032,["effect","onShow"]))]),_:1},8,["model-value","safeMode"])):(s(),c("div",X,r(e.essay.content),1))]),_:1})],2),l("div",Y,[e.hasComment?(s(),c("span",{key:0,class:"comment",onClick:n[1]||(n[1]=()=>{t.showComments=!t.showComments})},[f(E,{name:"comment"}),H(" ("+r(e.essay.commentCount)+") ",1)])):_("",!0),l("span",Z,"#"+r(e.essay.id||"预约中"),1),l("span",null,r(t.formatDate(e.essay.time,`yyyy-MM-dd HH:mm:ss UTC ${t.darkMode?"NDD":"DD"}`)),1)]),t.showComments?(s(),d(b,{key:0,query:e.commentQuery(e.essay)},null,8,["query"])):_("",!0)])}const ae=C(F,[["render",$],["__scopeId","data-v-1aaae460"]]);export{ae as C,Q as g};
