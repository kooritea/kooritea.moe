import{_ as I,L,A as p,u as C,r as l,a as x,o as b,c as B,b as c,d as k,e as a,f as g,F as H,t as m,n as A,g as E,h as N,i as V,j as u,k as t,w as j,l as w}from"./assets/index-DU3gMLxI.js";import{I as z}from"./xByEhXZfL.js";const F={components:{ImageCon:z,LoadingIcon:L,AsyncButtom:p},setup(){const{mobileMode:v}=C(),e=l(!0),d=l(!0),o=l(!0),h=x({}),_=l(0),s=l(0),n=x([]),r=()=>(d.value=!0,N(V(n).then(i=>{n.includes(i.id)?n.splice(0,n.length):n.push(i.id),Object.assign(h,i)}),500).then(()=>{d.value=!1,o.value=!1}));r(),b(()=>{var i,y;_.value=(i=s.value)!=null&&i.clientHeight?`${(y=s.value)==null?void 0:y.clientHeight}px`:"unset"});const f=B(()=>e.value||d.value);return{mobileMode:v,imageLoading:e,firstLoading:o,hitokoto:h,loading:f,ElInfo:s,infoHeight:_,reload:r}}},M={class:"home"},P={ref:"ElInfo",class:"info"},S={key:0,class:"cn-text"},T={key:1,class:"text"},U={key:2,class:"author-title"},D={class:"author"},O={class:"title"};function q(v,e,d,o,h,_){const s=u("ImageCon"),n=u("LoadingIcon"),r=u("AsyncButtom");return t(),c("div",M,[o.hitokoto.id?(t(),k(s,{key:0,loading:o.imageLoading,"onUpdate:loading":e[0]||(e[0]=f=>o.imageLoading=f),src:`/img${o.mobileMode&&o.hitokoto.mobile?o.hitokoto.mobile:o.hitokoto.pc}`,"loading-type":"fade","loading-delay":200},null,8,["loading","src"])):a("",!0),g("div",{class:A(["info-box",{loading:o.loading}]),style:E({height:o.infoHeight})},[g("div",P,[o.loading?a("",!0):(t(),c(H,{key:0},[o.loading?a("",!0):(t(),c("div",S,m(o.hitokoto.cnText),1)),o.loading?a("",!0):(t(),c("div",T,m(o.hitokoto.text),1)),o.loading?a("",!0):(t(),c("div",U,[g("span",D,m(o.hitokoto.author),1),g("span",O,m(o.hitokoto.title),1)]))],64)),o.loading?(t(),k(n,{key:1})):a("",!0)],512)],6),o.firstLoading?a("",!0):(t(),k(r,{key:1,class:"reload-button",type:"info",onLoadingClick:o.reload},{default:j(()=>e[1]||(e[1]=[w(" 换一张 ")])),_:1},8,["onLoadingClick"]))])}const K=I(F,[["render",q],["__scopeId","data-v-41c740c1"]]);export{K as default};
