const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./xEJOx8AUa.js","./vander_commonjsHelpers-CqkleIqs.js"])))=>i.map(i=>d[i]);
import{gN as _,gO as g,D as f,_ as h,L as k,r as a,gP as v,b as d,d as y,t as m,F as L,f as c,k as l,j as b}from"./assets/index-CkaXYRkZ.js";function B(n){return _("kooritea/kooritea.github.io",`/music/${n}.mp3`).then(o=>g({url:o,responseType:"arraybuffer"}).then(s=>{const[e,i]=n.split("-");return f(()=>import("./xEJOx8AUa.js").then(t=>t.i),__vite__mapDeps([0,1]),import.meta.url).then(t=>{const r=t.default,p=new r(s).ID3V2.findLabel("APIC");return{picUrl:p?URL.createObjectURL(new Blob([p.content.pictureBuffer])):"",name:e,singer:i,id:n,getPlayUrl:async()=>URL.createObjectURL(new Blob([s],{type:"audio/mp3"}))}})}))}const U={components:{LoadingIcon:k},props:{content:{type:String,default:""}},setup(n){const s=n.content.match(/\[music (.*?)\]/)[1],e=a({}),i=a(!0),t=a("");return(s.startsWith("private")?B(s.slice(8)):v(s)).then(r=>{e.value=r}).catch(r=>{t.value=r.message}).finally(()=>{i.value=!1}),{loading:i,error:t,id:a(s),music:e}},methods:{onClick(){this.loading||this.error||window.open(`https://music.163.com/#/song?id=${this.id}`,"_blank")}}},I={key:1,class:"error-msg"},P=["src"],C={class:"info"},R=["title"],w=["title"];function D(n,o,s,e,i,t){const r=b("LoadingIcon");return l(),d("div",{class:"music-player-simple",onClick:o[0]||(o[0]=(...u)=>t.onClick&&t.onClick(...u))},[e.loading?(l(),y(r,{key:0})):e.error?(l(),d("div",I,m(e.error),1)):(l(),d(L,{key:2},[c("img",{class:"music-player-simple-pic",src:e.music.picUrl},null,8,P),c("div",C,[c("p",{class:"song-name",title:e.music.name}," ðŸŽ¶"+m(e.music.name),9,R),c("p",{class:"singer-name",title:e.music.singer},m(e.music.singer),9,w)])],64))])}const O=h(U,[["render",D],["__scopeId","data-v-0329adf9"]]);export{O as default};
