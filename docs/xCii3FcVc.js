import{_ as u,S as I,r as D,j as r,k as t,b as i,H as g,z as k,e as B,n as v,u as M,p as b,I as x,L as E,J as L,f as d,w as l,d as f,t as c}from"./assets/index-D_LFPdhH.js";import{M as H}from"./xVljz32n8.js";/* empty css         *//* empty css         */import{E as N}from"./xCfxBK22m.js";const P={components:{SvgIcon:I},setup(){return{isSimplifty:D(!1)}},mounted(){this.$el.offsetHeight>600&&(this.isSimplifty=!0)}},j={key:0,class:"simplifty-mask"};function z(s,n,e,a,S,m){const y=r("SvgIcon");return t(),i("div",{class:v(["simplifty-box",{"is-simplifty":a.isSimplifty}])},[g(s.$slots,"default",{},void 0,!0),a.isSimplifty?(t(),i("div",j,[k(y,{name:"zhankai",class:"expend-button",onClick:n[0]||(n[0]=p=>a.isSimplifty=!1)})])):B("",!0)],2)}const V=u(P,[["render",z],["__scopeId","data-v-7afa2ae9"]]);function K(s,n){const{darkMode:e}=M(),{darkModeDecodeKey:a}=b();return e.value&&(s.hide||n)?s.id?x(s.hide,a.value):s.hide:s.content}const O={components:{Markdown:H,SimpliftyBox:V,LoadingIcon:E,"el-popover":N},props:{essay:{type:Object,required:!0},essayMap:{type:Object,default:()=>({})},inPopover:{type:Boolean,default:!1},isMarkDowm:{type:Boolean,default:!0},safeMode:{type:Boolean,default:!1}},emits:["set-search-key-word","load-essay-by-id"],setup(){const{darkMode:s}=M();return{darkMode:s,formatDate:L,Error}},methods:{getEssayContent:K}},q={class:"essay"},A=["onClick"],J={class:"hashtag"},T={key:0,class:"loading-box"},U={key:1},W={key:1,class:"unsafe-content"},F={class:"info"},G={class:"essay-id"};function Q(s,n,e,a,S,m){const y=r("LoadingIcon"),p=r("ChaosItem",!0),C=r("el-popover"),h=r("Markdown"),w=r("SimpliftyBox");return t(),i("div",q,[d("article",{class:v(["article",{"in-popover":e.inPopover}])},[k(w,null,{default:l(()=>[e.isMarkDowm?(t(),f(h,{key:0,"model-value":m.getEssayContent(e.essay),safeMode:e.safeMode},{hashtag:l(({hashtag:o})=>[!/^#\d+$/.test(o)||e.inPopover?(t(),i("span",{key:0,class:"hashtag",onClick:_=>s.$emit("set-search-key-word",o)},c(o),9,A)):(t(),f(C,{key:1,width:"",trigger:"click","popper-class":"popper-essay",effect:a.darkMode?"dark":"light",onShow:()=>{e.essayMap[o.slice(1)]||s.$emit("load-essay-by-id",o.slice(1))}},{reference:l(()=>[d("span",J,c(o),1)]),default:l(()=>[!e.essayMap[o.slice(1)]||e.essayMap[o.slice(1)]instanceof Error?(t(),i("div",T,[e.essayMap[o.slice(1)]?(t(),i("span",U,c(e.essayMap[o.slice(1)].message),1)):(t(),f(y,{key:0}))])):(t(),f(p,{key:1,essay:e.essayMap[o.slice(1)],"essay-map":e.essayMap,"in-popover":!0,onSetSearchKeyWord:n[0]||(n[0]=_=>{s.$emit("set-search-key-word",_)})},null,8,["essay","essay-map"]))]),_:2},1032,["effect","onShow"]))]),_:1},8,["model-value","safeMode"])):(t(),i("div",W,c(e.essay.content),1))]),_:1})],2),d("div",F,[d("span",G,"#"+c(e.essay.id||"预约中"),1),d("span",null,c(a.formatDate(e.essay.time,`yyyy-MM-dd HH:mm:ss UTC ${a.darkMode?"NDD":"DD"}`)),1)])])}const ee=u(O,[["render",Q],["__scopeId","data-v-9c02f02e"]]);export{ee as C,K as g};
