const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./xEJOx8AUa.js","./vander_commonjsHelpers-CqkleIqs.js"])))=>i.map(i=>d[i]);
import{gx as g,gy as p,H as f,_ as h,L as y,r as i,gz as k,b as m,d as v,t as d,F as L,f as c,k as l,j as b}from"./assets/index-DT4-VU9S.js";function U(s){return g("kooritea/kooritea.github.io",`/music/${s}.mp3`).then(o=>p({url:o,responseType:"arraybuffer"}).then(r=>{const[e,a]=s.split("-");return f(()=>import("./xEJOx8AUa.js").then(t=>t.i),__vite__mapDeps([0,1]),import.meta.url).then(t=>{const n=t.default,_=new n(r).ID3V2.findLabel("APIC");return{picUrl:_?URL.createObjectURL(new Blob([_.content.pictureBuffer])):"",name:e,singer:a,id:s,getPlayUrl:async()=>URL.createObjectURL(new Blob([r],{type:"audio/mp3"}))}})}))}const B={components:{LoadingIcon:y},props:{content:{type:String,default:""}},setup(s){const r=s.content.match(/\[music (.*?)\]/)[1],e=i({}),a=i(!0),t=i("");return(r.startsWith("private")?U(r.slice(8)):k(r)).then(n=>{e.value=n}).catch(n=>{t.value=n.message}).finally(()=>{a.value=!1}),{loading:a,error:t,id:i(r),music:e}},methods:{onClick(){this.loading||this.error||this.music.getPlayUrl().then(s=>{window.open(s,"_blank")})}}},I={key:1,class:"error-msg"},P=["src"],C={class:"info"},R=["title"],w=["title"];function M(s,o,r,e,a,t){const n=b("LoadingIcon");return l(),m("div",{class:"music-player-simple",onClick:o[0]||(o[0]=(...u)=>t.onClick&&t.onClick(...u))},[e.loading?(l(),v(n,{key:0})):e.error?(l(),m("div",I,d(e.error),1)):(l(),m(L,{key:2},[c("img",{class:"music-player-simple-pic",src:e.music.picUrl},null,8,P),c("div",C,[c("p",{class:"song-name",title:e.music.name}," ðŸŽ¶"+d(e.music.name),9,R),c("p",{class:"singer-name",title:e.music.singer},d(e.music.singer),9,w)])],64))])}const D=h(B,[["render",M],["__scopeId","data-v-f0afbe2d"]]);export{D as default};
