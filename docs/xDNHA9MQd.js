import{P as _}from"./xDI5oqht7.js";import{_ as V,ak as y,al as w,r as v,K as D,aa as b,c as p,k as g,d as U,w as s,p as n,n as P,g as k,j as r,X as x,A,a as I,am as C,an as B,b as N,f as L,l as h}from"./assets/index-Cu5ecCzn.js";import{E as M}from"./xDNI06Owf.js";import"./vander_baseClone-DYOofxpS.js";import"./xwV0pQeK_.js";import"./vander_initCloneObject-Ku_pMZN1.js";const O={components:{ElUpload:M,ElIcon:y,Plus:w},props:{modelValue:{type:[Object,Array],default:()=>{}},limit:{type:Number,default:()=>1},width:{type:[String,Number],default:()=>148},height:{type:[String,Number],default:()=>148},beforeUpload:{type:Function,default:void 0}},emits:["update:modelValue"],setup(t,{emit:a}){const l=v(null),{computedModelValue:e}=D(t,a);return b(e,i=>{(!i||Array.isArray(i)&&i.length===0)&&l.value.clearFiles()}),{uploader:l,computedModelValue:e,csswidth:p(()=>typeof t.width=="number"?`${t.width}px`:t.width),cssheight:p(()=>typeof t.width=="number"?`${t.height}px`:t.height)}},methods:{onPreview(t){this.$imagePreview(URL.createObjectURL(t.raw),{fileName:t.raw.name})}}};function S(t,a,l,e,i,u){const f=r("Plus"),c=r("el-icon"),d=r("el-upload");return g(),U(d,{ref:"uploader",class:P(["image-uploader",{limit:l.limit===1&&e.computedModelValue||l.limit>1&&Array.isArray(e.computedModelValue)&&e.computedModelValue.length===l.limit}]),style:k(`--el-upload-list-picture-card-size-width: ${e.csswidth};--el-upload-list-picture-card-size-height: ${e.cssheight};`),"auto-upload":!1,action:"","list-type":"picture-card",limit:l.limit,"on-remove":(m,o)=>{e.computedModelValue=l.limit>1?o:void 0},"before-upload":l.beforeUpload,"on-change":(m,o)=>{e.computedModelValue=l.limit>1?o:m},"on-preview":u.onPreview},{default:s(()=>[n(c,null,{default:s(()=>[n(f)]),_:1})]),_:1},8,["class","style","limit","on-remove","before-upload","on-change","on-preview"])}const j=V(O,[["render",S],["__scopeId","data-v-1faca544"]]),z={components:{PageHeader:_,ImageUploader:j,TextInput:x,AsyncButtom:A},setup(){return{formData:I({})}},methods:{onSubmit(){var t,a;return C({...this.formData,avatar:(t=this.formData.avatar)==null?void 0:t.raw,tachie:(a=this.formData.tachie)==null?void 0:a.raw}).then(()=>this.clean())},clean(){B(this.formData)}}},E={class:"page"};function T(t,a,l,e,i,u){const f=r("PageHeader"),c=r("ImageUploader"),d=r("TextInput"),m=r("AsyncButtom");return g(),N("div",E,[n(f),n(c,{modelValue:e.formData.avatar,"onUpdate:modelValue":a[0]||(a[0]=o=>e.formData.avatar=o)},null,8,["modelValue"]),n(c,{modelValue:e.formData.tachie,"onUpdate:modelValue":a[1]||(a[1]=o=>e.formData.tachie=o),width:100,height:200},null,8,["modelValue"]),n(d,{modelValue:e.formData.name,"onUpdate:modelValue":a[2]||(a[2]=o=>e.formData.name=o),placeholder:"名字"},null,8,["modelValue"]),n(d,{modelValue:e.formData.source,"onUpdate:modelValue":a[3]||(a[3]=o=>e.formData.source=o),placeholder:"出处"},null,8,["modelValue"]),n(d,{modelValue:e.formData.cv,"onUpdate:modelValue":a[4]||(a[4]=o=>e.formData.cv=o),placeholder:"cv"},null,8,["modelValue"]),n(d,{modelValue:e.formData.link,"onUpdate:modelValue":a[5]||(a[5]=o=>e.formData.link=o),placeholder:"链接"},null,8,["modelValue"]),L("div",null,[n(m,{type:"primary",onLoadingClick:u.onSubmit},{default:s(()=>a[6]||(a[6]=[h(" 提交 ")])),_:1},8,["onLoadingClick"]),n(m,{type:"default",onLoadingClick:u.clean},{default:s(()=>a[7]||(a[7]=[h(" 清除 ")])),_:1},8,["onLoadingClick"])])])}const X=V(z,[["render",T],["__scopeId","data-v-c38c39cc"]]);export{X as default};
