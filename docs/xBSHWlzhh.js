import{_ as u,S as g,r as w,j as d,k as t,b as i,H as B,z as k,e as D,n as v,u as M,p as b,I as x,L as E,J as H,f as l,w as r,t as c,d as y,K as L}from"./assets/index-XuEPjZ2L.js";import{M as N}from"./xBAEHhs_B.js";/* empty css         *//* empty css         */import{E as P}from"./xBMRLZB1x.js";const j={components:{SvgIcon:g},setup(){return{isSimplifty:w(!1)}},mounted(){this.$el.offsetHeight>600&&(this.isSimplifty=!0)}},z={key:0,class:"simplifty-mask"};function K(s,n,e,a,S,m){const f=d("SvgIcon");return t(),i("div",{class:v(["simplifty-box",{"is-simplifty":a.isSimplifty}])},[B(s.$slots,"default",{},void 0,!0),a.isSimplifty?(t(),i("div",z,[k(f,{name:"zhankai",class:"expend-button",onClick:n[0]||(n[0]=p=>a.isSimplifty=!1)})])):D("",!0)],2)}const T=u(j,[["render",K],["__scopeId","data-v-7afa2ae9"]]);function V(s,n){const{darkMode:e}=M(),{darkModeDecodeKey:a}=b();return e.value&&(s.hide||n)?s.id?x(s.hide,a.value):s.hide:s.content}const O={components:{Markdown:N,SimpliftyBox:T,LoadingIcon:E,"el-popover":P},props:{essay:{type:Object,required:!0},essayMap:{type:Object,default:()=>({})},inPopover:{type:Boolean,default:!1},unsafeMode:{type:Boolean,default:!1},useHashTag:{type:Boolean,default:!0}},emits:["set-search-key-word","load-essay-by-id"],setup(){const{darkMode:s}=M();return{darkMode:s,formatDate:H,Error}},methods:{getEssayContent:V}},q={class:"essay"},A={key:0,class:"unsafe-content"},J=["onClick"],U={class:"hashtag"},W={key:0,class:"loading-box"},F={key:1},G={class:"info"},Q={class:"essay-id"};function R(s,n,e,a,S,m){const f=d("LoadingIcon"),p=d("ChaosItem",!0),h=d("el-popover"),C=d("Markdown"),I=d("SimpliftyBox");return t(),i("div",q,[l("article",{class:v(["article",{"in-popover":e.inPopover}])},[k(I,null,{default:r(()=>[e.essay.unsafe||e.unsafeMode?(t(),i("div",A,c(e.essay.content),1)):(t(),y(C,{key:1,"model-value":m.getEssayContent(e.essay)},L({_:2},[e.useHashTag?{name:"hashtag",fn:r(({hashtag:o})=>[!/^#\d+$/.test(o)||e.inPopover?(t(),i("span",{key:0,class:"hashtag",onClick:_=>s.$emit("set-search-key-word",o)},c(o),9,J)):(t(),y(h,{key:1,width:"",trigger:"click","popper-class":"popper-essay",effect:a.darkMode?"dark":"light",onShow:()=>{e.essayMap[o.slice(1)]||s.$emit("load-essay-by-id",o.slice(1))}},{reference:r(()=>[l("span",U,c(o),1)]),default:r(()=>[!e.essayMap[o.slice(1)]||e.essayMap[o.slice(1)]instanceof Error?(t(),i("div",W,[e.essayMap[o.slice(1)]?(t(),i("span",F,c(e.essayMap[o.slice(1)].message),1)):(t(),y(f,{key:0}))])):(t(),y(p,{key:1,essay:e.essayMap[o.slice(1)],"essay-map":e.essayMap,"in-popover":!0,onSetSearchKeyWord:n[0]||(n[0]=_=>{s.$emit("set-search-key-word",_)})},null,8,["essay","essay-map"]))]),_:2},1032,["effect","onShow"]))]),key:"0"}:void 0]),1032,["model-value"]))]),_:1})],2),l("div",G,[l("span",Q,"#"+c(e.essay.id||"预约中"),1),l("span",null,c(a.formatDate(e.essay.time,`yyyy-MM-dd HH:mm:ss UTC ${a.darkMode?"NDD":"DD"}`)),1)])])}const se=u(O,[["render",R],["__scopeId","data-v-19830631"]]);export{se as C,V as g};
