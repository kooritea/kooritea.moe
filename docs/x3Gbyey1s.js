import{_ as y,S as I,L as S,r as n,gu as b,b as i,p as _,T as h,F as k,d as L,e as d,j as m,k as e}from"./assets/index-CUsziyfb.js";import{I as C,_ as E}from"./xCR8PX9xE.js";const V={components:{SvgIcon:I,ImageCon:C,LoadingIcon:S},props:{content:{type:String,default:""}},setup(g){const s=g.content.match(/\[video(-loop)? (.*?)\]/),r=s[2],o=n(!1),t=n(!0),v=n(!1),l=r.slice(0,r.lastIndexOf("."))+".thumbnail",a=n(""),c=n(!1),f=n(!!s[1]),u=n(r.startsWith("http"));return u.value?(a.value=r,t.value=!1):b().then(p=>{a.value=p("kooritea/kooritea.github.io",`video${r}`),t.value=!1}),{isFullSrc:u,videoSrc:a,thumbnailSrc:l,isNoThumbnail:v,isPlay:o,isLoop:f,isLoading:t,isVideoError:c}}},N={class:"md-video"},x={key:0,class:"thumbnail-box"},F=["autoplay","src","loop"],T={key:2,class:"error-img",src:E};function B(g,s,r,o,t,v){const l=m("ImageCon"),a=m("SvgIcon"),c=m("LoadingIcon");return e(),i("div",N,[!o.isPlay&&!o.isNoThumbnail&&!o.isFullSrc?(e(),i("div",x,[_(l,{ref:"ImageCon",src:`/video${o.thumbnailSrc}`,alt:o.thumbnailSrc,onClick:s[0]||(s[0]=()=>{o.isPlay=!0}),onDragstart:s[1]||(s[1]=h(()=>{},["prevent"])),onError:s[2]||(s[2]=()=>{o.isNoThumbnail=!0})},null,8,["src","alt"]),_(a,{class:"play-icon",name:"play"})])):(e(),i(k,{key:1},[o.isLoading?(e(),L(c,{key:0})):d("",!0),!o.isLoading&&!o.isVideoError?(e(),i("video",{key:1,class:"video",autoplay:!o.isNoThumbnail&&!o.isFullSrc,controls:"",src:o.videoSrc,loop:o.isLoop,onError:s[3]||(s[3]=()=>{o.isVideoError=!0})},null,40,F)):d("",!0),o.isVideoError?(e(),i("img",T)):d("",!0)],64))])}const M=y(V,[["render",B],["__scopeId","data-v-104e2202"]]);export{M as default};
